/*
 * Copyright (C) 2008-12  Bernhard Hobiger
 *
 * This file is part of HoDoKu.
 *
 * HoDoKu is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * HoDoKu is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with HoDoKu. If not, see <http://www.gnu.org/licenses/>.
 */
package sudoku;

import generator.BackgroundGeneratorThread;

import javax.swing.*;
import java.awt.*;
import java.awt.image.BufferedImage;
import java.util.ArrayList;
import java.util.List;
import java.util.Locale;
import java.util.ResourceBundle;

/**
 *
 * @author  hobiwan
 */
public class ConfigLevelFontPanel extends JPanel {
    private static final long serialVersionUID = 1L;

    private JButton[] levelFGButtons;
    private JButton[] levelBGButtons;
    //private JLabel[] levelLabels;
    private DifficultyLevel[] levels;
    private Font[] fonts;
    private JLabel[] fontLabels;
    private double valueFactor;
    private double candidateFactor;
    private double hintFactor;
    private double boxFactor;

    /**
     * Creates new form ConfigGeneralPanel
     * @param mainFrame 
     */
    public ConfigLevelFontPanel(Component mainFrame) {
        initComponents();

        levelFGButtons = new JButton[Options.getInstance().getDifficultyLevels().length];
        levelFGButtons[0] = incompleteFGButton;
        levelFGButtons[1] = easyFGButton;
        levelFGButtons[2] = mediumFGButton;
        levelFGButtons[3] = hardFGButton;
        levelFGButtons[4] = unfairFGButton;
        levelFGButtons[5] = extremeFGButton;
        levelBGButtons = new JButton[Options.getInstance().getDifficultyLevels().length];
        levelBGButtons[0] = incompleteBGButton;
        levelBGButtons[1] = easyBGButton;
        levelBGButtons[2] = mediumBGButton;
        levelBGButtons[3] = hardBGButton;
        levelBGButtons[4] = unfairBGButton;
        levelBGButtons[5] = extremeBGButton;

        fonts = new Font[4];
        fontLabels = new JLabel[4];
        fontLabels[0] = valuesFontLabel;
        fontLabels[1] = candidatesFontLabel;
        fontLabels[2] = printLargeFontLabel;
        fontLabels[3] = printSmallFontLabel;

        easyTextField.setDocument(new NumbersOnlyDocument());
        mediumTextField.setDocument(new NumbersOnlyDocument());
        hardTextField.setDocument(new NumbersOnlyDocument());
        unfairTextField.setDocument(new NumbersOnlyDocument());
        extremeTextField.setDocument(new NumbersOnlyDocument());
        
        initAll(false);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new JPanel();
        easyLabel = new JLabel();
        mediumLabel = new JLabel();
        hardLabel = new JLabel();
        unfairLabel = new JLabel();
        extremeLabel = new JLabel();
        easyTextField = new JTextField();
        mediumTextField = new JTextField();
        hardTextField = new JTextField();
        unfairTextField = new JTextField();
        extremeTextField = new JTextField();
        easyFGButton = new JButton();
        mediumFGButton = new JButton();
        hardFGButton = new JButton();
        unfairFGButton = new JButton();
        extremeFGButton = new JButton();
        easyBGButton = new JButton();
        mediumBGButton = new JButton();
        hardBGButton = new JButton();
        unfairBGButton = new JButton();
        extremeBGButton = new JButton();
        incompleteLabel = new JLabel();
        incompleteFGButton = new JButton();
        jTextField1 = new JTextField();
        incompleteBGButton = new JButton();
        jPanel3 = new JPanel();
        valuesLabel = new JLabel();
        candidatesLabel = new JLabel();
        printLargeLabel = new JLabel();
        printSmallLabel = new JLabel();
        valuesFontLabel = new JLabel();
        candidatesFontLabel = new JLabel();
        printLargeFontLabel = new JLabel();
        printSmallFontLabel = new JLabel();
        valuesButton = new JButton();
        candidatesButton = new JButton();
        printLargeButton = new JButton();
        printSmallButton = new JButton();
        valueFactorLabel = new JLabel();
        candidatesFactorLabel = new JLabel();
        hintFactorLabel = new JLabel();
        valueFactorTextField = new JTextField();
        candidateFactorTextField = new JTextField();
        hintFactorTextField = new JTextField();
        boxFactorLabel = new JLabel();
        boxFactorTextField = new JTextField();
        resetButton = new JButton();

        ResourceBundle bundle = ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel"); // NOI18N
        jPanel1.setBorder(BorderFactory.createTitledBorder(bundle.getString("ConfigLevelFontPanel.jPanel1.border.title_1"))); // NOI18N

        easyLabel.setDisplayedMnemonic(ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.easyLabel.mnemonic").charAt(0));
        easyLabel.setLabelFor(easyTextField);
        easyLabel.setText(bundle.getString("ConfigLevelFontPanel.easyLabel.text_1")); // NOI18N

        mediumLabel.setDisplayedMnemonic(ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.mediumLabel.mnemonic").charAt(0));
        mediumLabel.setLabelFor(mediumTextField);
        mediumLabel.setText(bundle.getString("ConfigLevelFontPanel.mediumLabel.text_1")); // NOI18N

        hardLabel.setDisplayedMnemonic(ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.hardLabel.mnemonic").charAt(0));
        hardLabel.setLabelFor(hardTextField);
        hardLabel.setText(bundle.getString("ConfigLevelFontPanel.hardLabel.text_1")); // NOI18N

        unfairLabel.setDisplayedMnemonic(ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.unfairLabel.mnemonic").charAt(0));
        unfairLabel.setLabelFor(unfairTextField);
        unfairLabel.setText(bundle.getString("ConfigLevelFontPanel.unfairLabel.text_1")); // NOI18N

        extremeLabel.setLabelFor(extremeTextField);
        extremeLabel.setText(bundle.getString("ConfigLevelFontPanel.extremeLabel.text_1")); // NOI18N

        extremeTextField.setEditable(false);

        easyFGButton.setMaximumSize(new Dimension(60, 20));
        easyFGButton.setMinimumSize(new Dimension(60, 20));
        easyFGButton.setPreferredSize(new Dimension(60, 20));
        easyFGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                easyFGButtonActionPerformed(evt);
            }
        });

        mediumFGButton.setMaximumSize(new Dimension(60, 20));
        mediumFGButton.setMinimumSize(new Dimension(60, 20));
        mediumFGButton.setPreferredSize(new Dimension(60, 20));
        mediumFGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mediumFGButtonActionPerformed(evt);
            }
        });

        hardFGButton.setMaximumSize(new Dimension(60, 20));
        hardFGButton.setMinimumSize(new Dimension(60, 20));
        hardFGButton.setPreferredSize(new Dimension(60, 20));
        hardFGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                hardFGButtonActionPerformed(evt);
            }
        });

        unfairFGButton.setMaximumSize(new Dimension(60, 20));
        unfairFGButton.setMinimumSize(new Dimension(60, 20));
        unfairFGButton.setPreferredSize(new Dimension(60, 20));
        unfairFGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                unfairFGButtonActionPerformed(evt);
            }
        });

        extremeFGButton.setMaximumSize(new Dimension(60, 20));
        extremeFGButton.setMinimumSize(new Dimension(60, 20));
        extremeFGButton.setPreferredSize(new Dimension(60, 20));
        extremeFGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                extremeFGButtonActionPerformed(evt);
            }
        });

        easyBGButton.setMaximumSize(new Dimension(60, 20));
        easyBGButton.setMinimumSize(new Dimension(60, 20));
        easyBGButton.setPreferredSize(new Dimension(60, 20));
        easyBGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                easyBGButtonActionPerformed(evt);
            }
        });

        mediumBGButton.setMaximumSize(new Dimension(60, 20));
        mediumBGButton.setMinimumSize(new Dimension(60, 20));
        mediumBGButton.setPreferredSize(new Dimension(60, 20));
        mediumBGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mediumBGButtonActionPerformed(evt);
            }
        });

        hardBGButton.setMaximumSize(new Dimension(60, 20));
        hardBGButton.setMinimumSize(new Dimension(60, 20));
        hardBGButton.setPreferredSize(new Dimension(60, 20));
        hardBGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                hardBGButtonActionPerformed(evt);
            }
        });

        unfairBGButton.setMaximumSize(new Dimension(60, 20));
        unfairBGButton.setMinimumSize(new Dimension(60, 20));
        unfairBGButton.setPreferredSize(new Dimension(60, 20));
        unfairBGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                unfairBGButtonActionPerformed(evt);
            }
        });

        extremeBGButton.setMaximumSize(new Dimension(60, 20));
        extremeBGButton.setMinimumSize(new Dimension(60, 20));
        extremeBGButton.setPreferredSize(new Dimension(60, 20));
        extremeBGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                extremeBGButtonActionPerformed(evt);
            }
        });

        incompleteLabel.setText("jLabel1"); // NOI18N

        incompleteFGButton.setMaximumSize(new Dimension(60, 20));
        incompleteFGButton.setMinimumSize(new Dimension(60, 20));
        incompleteFGButton.setPreferredSize(new Dimension(60, 20));
        incompleteFGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                incompleteFGButtonActionPerformed(evt);
            }
        });

        jTextField1.setEditable(false);

        incompleteBGButton.setMaximumSize(new Dimension(60, 20));
        incompleteBGButton.setMinimumSize(new Dimension(60, 20));
        incompleteBGButton.setPreferredSize(new Dimension(60, 20));
        incompleteBGButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                incompleteBGButtonActionPerformed(evt);
            }
        });

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(easyLabel)
                    .addComponent(mediumLabel)
                    .addComponent(hardLabel)
                    .addComponent(unfairLabel)
                    .addComponent(extremeLabel)
                    .addComponent(incompleteLabel))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(unfairTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(unfairFGButton, 0, 0, Short.MAX_VALUE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(hardTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(hardFGButton, 0, 0, Short.MAX_VALUE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(mediumTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(mediumFGButton, 0, 0, Short.MAX_VALUE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(easyTextField, GroupLayout.PREFERRED_SIZE, 57, GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(easyFGButton, GroupLayout.PREFERRED_SIZE, 25, Short.MAX_VALUE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(extremeTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                            .addComponent(jTextField1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(incompleteFGButton, GroupLayout.PREFERRED_SIZE, 25, Short.MAX_VALUE)
                            .addComponent(extremeFGButton, 0, 0, Short.MAX_VALUE))))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(extremeBGButton, 0, 25, Short.MAX_VALUE)
                    .addComponent(unfairBGButton, 0, 25, Short.MAX_VALUE)
                    .addComponent(hardBGButton, 0, 25, Short.MAX_VALUE)
                    .addComponent(mediumBGButton, 0, 25, Short.MAX_VALUE)
                    .addComponent(easyBGButton, GroupLayout.PREFERRED_SIZE, 25, Short.MAX_VALUE)
                    .addComponent(incompleteBGButton, GroupLayout.PREFERRED_SIZE, 25, Short.MAX_VALUE))
                .addGap(42, 42, 42))
        );

        jPanel1Layout.linkSize(SwingConstants.HORIZONTAL, new Component[] {easyTextField, extremeTextField, hardTextField, jTextField1, mediumTextField, unfairTextField});

        jPanel1Layout.linkSize(SwingConstants.HORIZONTAL, new Component[] {easyBGButton, extremeFGButton, hardFGButton, mediumFGButton, unfairFGButton});

        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                            .addComponent(easyLabel)
                            .addComponent(easyTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                            .addComponent(easyFGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                            .addComponent(mediumLabel)
                            .addComponent(mediumTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                            .addComponent(mediumFGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                            .addComponent(hardLabel)
                            .addComponent(hardTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                            .addComponent(hardFGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                            .addComponent(unfairLabel)
                            .addComponent(unfairTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                            .addComponent(unfairFGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                            .addComponent(extremeLabel)
                            .addComponent(extremeTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                            .addComponent(extremeFGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(easyBGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(mediumBGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(hardBGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(unfairBGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(extremeBGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(incompleteFGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                        .addComponent(incompleteLabel)
                        .addComponent(jTextField1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                    .addComponent(incompleteBGButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addContainerGap(49, Short.MAX_VALUE))
        );

        jPanel1Layout.linkSize(SwingConstants.VERTICAL, new Component[] {easyBGButton, easyFGButton, easyTextField, extremeBGButton, extremeFGButton, extremeTextField, hardBGButton, hardFGButton, hardTextField, incompleteBGButton, incompleteFGButton, jTextField1, mediumBGButton, mediumFGButton, mediumTextField, unfairBGButton, unfairFGButton, unfairTextField});

        jPanel3.setBorder(BorderFactory.createTitledBorder(bundle.getString("ConfigLevelFontPanel.jPanel3.border.title_1"))); // NOI18N

        valuesLabel.setText(bundle.getString("ConfigLevelFontPanel.valuesLabel.text_1")); // NOI18N

        candidatesLabel.setText(bundle.getString("ConfigLevelFontPanel.candidatesLabel.text_1")); // NOI18N

        printLargeLabel.setText(bundle.getString("ConfigLevelFontPanel.printLargeLabel.text_1")); // NOI18N

        printSmallLabel.setText(bundle.getString("ConfigLevelFontPanel.printSmallLabel.text_1")); // NOI18N

        valuesFontLabel.setText("jLabel1"); // NOI18N

        candidatesFontLabel.setText("jLabel2"); // NOI18N

        printLargeFontLabel.setText("jLabel3"); // NOI18N

        printSmallFontLabel.setText("jLabel4"); // NOI18N

        valuesButton.setText("..."); // NOI18N
        valuesButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                valuesButtonActionPerformed(evt);
            }
        });

        candidatesButton.setText("..."); // NOI18N
        candidatesButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                candidatesButtonActionPerformed(evt);
            }
        });

        printLargeButton.setText("..."); // NOI18N
        printLargeButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                printLargeButtonActionPerformed(evt);
            }
        });

        printSmallButton.setText("..."); // NOI18N
        printSmallButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                printSmallButtonActionPerformed(evt);
            }
        });

        valueFactorLabel.setDisplayedMnemonic(ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.valueFactorLabel.mnemonic").charAt(0));
        valueFactorLabel.setLabelFor(valueFactorTextField);
        valueFactorLabel.setText(bundle.getString("ConfigLevelFontPanel.valueFactorLabel.text_1")); // NOI18N

        candidatesFactorLabel.setDisplayedMnemonic(ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.candidatesFactorLabel.mnemonic").charAt(0));
        candidatesFactorLabel.setLabelFor(candidateFactorTextField);
        candidatesFactorLabel.setText(bundle.getString("ConfigLevelFontPanel.candidatesFactorLabel.text_1")); // NOI18N

        hintFactorLabel.setDisplayedMnemonic(ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.hintFactorLabel.mnemonic").charAt(0));
        hintFactorLabel.setLabelFor(hintFactorTextField);
        hintFactorLabel.setText(bundle.getString("ConfigLevelFontPanel.hintFactorLabel.text_1")); // NOI18N

        boxFactorLabel.setDisplayedMnemonic(ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.boxFactorLabel.mnemonic").charAt(0));
        boxFactorLabel.setLabelFor(boxFactorTextField);
        boxFactorLabel.setText(bundle.getString("ConfigLevelFontPanel.boxFactorLabel.text")); // NOI18N

        GroupLayout jPanel3Layout = new GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(valuesLabel)
                            .addComponent(candidatesLabel)
                            .addComponent(printLargeLabel)
                            .addComponent(printSmallLabel))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(printSmallFontLabel)
                            .addComponent(printLargeFontLabel)
                            .addComponent(candidatesFontLabel)
                            .addComponent(valuesFontLabel))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(valuesButton)
                            .addComponent(candidatesButton)
                            .addComponent(printLargeButton)
                            .addComponent(printSmallButton)))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(valueFactorLabel)
                            .addComponent(candidatesFactorLabel)
                            .addComponent(hintFactorLabel)
                            .addComponent(boxFactorLabel))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(boxFactorTextField, GroupLayout.PREFERRED_SIZE, 21, GroupLayout.PREFERRED_SIZE)
                            .addComponent(hintFactorTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                            .addComponent(candidateFactorTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                            .addComponent(valueFactorTextField, GroupLayout.PREFERRED_SIZE, 60, GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(33, Short.MAX_VALUE))
        );

        jPanel3Layout.linkSize(SwingConstants.HORIZONTAL, new Component[] {boxFactorTextField, candidateFactorTextField, hintFactorTextField, valueFactorTextField});

        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(valuesLabel)
                    .addComponent(valuesFontLabel)
                    .addComponent(valuesButton))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(candidatesLabel)
                    .addComponent(candidatesFontLabel)
                    .addComponent(candidatesButton))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(printLargeLabel)
                    .addComponent(printLargeFontLabel)
                    .addComponent(printLargeButton))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(printSmallLabel)
                    .addComponent(printSmallFontLabel)
                    .addComponent(printSmallButton))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(valueFactorLabel)
                    .addComponent(valueFactorTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(candidatesFactorLabel)
                    .addComponent(candidateFactorTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(hintFactorLabel)
                    .addComponent(hintFactorTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(boxFactorLabel)
                    .addComponent(boxFactorTextField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        resetButton.setMnemonic(ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.resetButton.mnemonic").charAt(0));
        resetButton.setText(bundle.getString("ConfigLevelFontPanel.resetButton.text_1")); // NOI18N
        resetButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                resetButtonActionPerformed(evt);
            }
        });

        GroupLayout layout = new GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel3, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(layout.createParallelGroup(GroupLayout.Alignment.TRAILING)).addGroup(layout.createSequentialGroup()
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, 343, Short.MAX_VALUE)
                        .addComponent(resetButton)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jPanel3, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, 97, Short.MAX_VALUE)
                        .addComponent(resetButton)))
                .addContainerGap())
        );

        layout.linkSize(SwingConstants.VERTICAL, new Component[] {jPanel1, jPanel3});

    }// </editor-fold>//GEN-END:initComponents

    private void resetButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_resetButtonActionPerformed
        initAll(true);
    }//GEN-LAST:event_resetButtonActionPerformed

    private void printSmallButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_printSmallButtonActionPerformed
        chooseFont(3);
    }//GEN-LAST:event_printSmallButtonActionPerformed

    private void printLargeButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_printLargeButtonActionPerformed
        chooseFont(2);
    }//GEN-LAST:event_printLargeButtonActionPerformed

    private void candidatesButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_candidatesButtonActionPerformed
        chooseFont(1);
    }//GEN-LAST:event_candidatesButtonActionPerformed

    private void valuesButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_valuesButtonActionPerformed
        chooseFont(0);
    }//GEN-LAST:event_valuesButtonActionPerformed

    private void incompleteBGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_incompleteBGButtonActionPerformed
        chooseColor(0, false);
    }//GEN-LAST:event_incompleteBGButtonActionPerformed

    private void incompleteFGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_incompleteFGButtonActionPerformed
        chooseColor(0, true);
    }//GEN-LAST:event_incompleteFGButtonActionPerformed

    private void extremeBGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_extremeBGButtonActionPerformed
        chooseColor(5, false);
    }//GEN-LAST:event_extremeBGButtonActionPerformed

    private void extremeFGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_extremeFGButtonActionPerformed
        chooseColor(5, true);
    }//GEN-LAST:event_extremeFGButtonActionPerformed

    private void unfairBGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_unfairBGButtonActionPerformed
        chooseColor(4, false);
    }//GEN-LAST:event_unfairBGButtonActionPerformed

    private void unfairFGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_unfairFGButtonActionPerformed
        chooseColor(4, true);
    }//GEN-LAST:event_unfairFGButtonActionPerformed

    private void hardBGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_hardBGButtonActionPerformed
        chooseColor(3, false);
    }//GEN-LAST:event_hardBGButtonActionPerformed

    private void hardFGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_hardFGButtonActionPerformed
        chooseColor(3, true);
    }//GEN-LAST:event_hardFGButtonActionPerformed

    private void mediumBGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mediumBGButtonActionPerformed
        chooseColor(2, false);
    }//GEN-LAST:event_mediumBGButtonActionPerformed

    private void mediumFGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mediumFGButtonActionPerformed
        chooseColor(2, true);
    }//GEN-LAST:event_mediumFGButtonActionPerformed

    private void easyBGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_easyBGButtonActionPerformed
        chooseColor(1, false);
    }//GEN-LAST:event_easyBGButtonActionPerformed

    private void easyFGButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_easyFGButtonActionPerformed
        chooseColor(1, true);
    }//GEN-LAST:event_easyFGButtonActionPerformed
    
    public void okPressed() {
        // levels[0] = INCOMPLETE
        int[] oldScores = new int[levels.length];
        for (int i = 1; i < levels.length; i++) {
            oldScores[i] = levels[i].getMaxScore();
        }
        levels[1].setMaxScore(Integer.parseInt(easyTextField.getText()));
        levels[2].setMaxScore(Integer.parseInt(mediumTextField.getText()));
        levels[3].setMaxScore(Integer.parseInt(hardTextField.getText()));
        levels[4].setMaxScore(Integer.parseInt(unfairTextField.getText()));
        Options.getInstance().setDifficultyLevels(Options.getInstance().copyDifficultyLevels(levels));
        // now check, if the scores have changed
        boolean scoresChanged = false;
        for (int i = 1; i < levels.length; i++) {
            if (levels[i].getMaxScore() != oldScores[i]) {
                scoresChanged = true;
                break;
            }
        }
        if (scoresChanged) {
            BackgroundGeneratorThread.getInstance().resetAll();
        }
        
        Options.getInstance().setDefaultValueFont(fonts[0]);
        Options.getInstance().setDefaultCandidateFont(fonts[1]);
        Options.getInstance().setBigFont(fonts[2]);
        Options.getInstance().setSmallFont(fonts[3]);
        
        try {
            Options.getInstance().setValueFontFactor(Double.parseDouble(valueFactorTextField.getText()));
        } catch (NumberFormatException ex) {
            Options.getInstance().setValueFontFactor(Options.VALUE_FONT_FACTOR);
        }
        try {
            Options.getInstance().setCandidateFontFactor(Double.parseDouble(candidateFactorTextField.getText()));
        } catch (NumberFormatException ex) {
            Options.getInstance().setCandidateFontFactor(Options.CANDIDATE_FONT_FACTOR);
        }
        try {
            Options.getInstance().setHintBackFactor(Double.parseDouble(hintFactorTextField.getText()));
        } catch (NumberFormatException ex) {
            Options.getInstance().setHintBackFactor(Options.HINT_BACK_FACTOR);
        }
        try {
            Options.getInstance().setBoxLineFactor(Double.parseDouble(boxFactorTextField.getText()));
        } catch (NumberFormatException ex) {
            Options.getInstance().setBoxLineFactor(Options.BOX_LINE_FACTOR);
        }
    }
    
    private void initAll(boolean setDefault) {
        if (setDefault) {
            levels = Options.getInstance().copyDifficultyLevels(Options.DEFAULT_DIFFICULTY_LEVELS);

            fonts[0] = Options.DEFAULT_VALUE_FONT;
            fonts[1] = Options.DEFAULT_CANDIDATE_FONT;
            fonts[2] = Options.BIG_FONT;
            fonts[3] = Options.SMALL_FONT;
            
            valueFactor = Options.VALUE_FONT_FACTOR;
            candidateFactor = Options.CANDIDATE_FONT_FACTOR;
            hintFactor = Options.HINT_BACK_FACTOR;
            boxFactor = Options.BOX_LINE_FACTOR;
        } else {
            levels = Options.getInstance().copyDifficultyLevels(Options.getInstance().getDifficultyLevels());
            
            fonts[0] = Options.getInstance().getDefaultValueFont();
            fonts[1] = Options.getInstance().getDefaultCandidateFont();
            fonts[2] = Options.getInstance().getBigFont();
            fonts[3] = Options.getInstance().getSmallFont();
            
            valueFactor = Options.getInstance().getValueFontFactor();
            candidateFactor = Options.getInstance().getCandidateFontFactor();
            hintFactor = Options.getInstance().getHintBackFactor();
            boxFactor = Options.getInstance().getBoxLineFactor();
        }
        
        initButtons();
        
        incompleteLabel.setText(levels[0].getName() + ":");
        easyLabel.setText(levels[1].getName() + ":");
        mediumLabel.setText(levels[2].getName() + ":");
        hardLabel.setText(levels[3].getName() + ":");
        unfairLabel.setText(levels[4].getName() + ":");
        extremeLabel.setText(levels[5].getName() + ":");
        
        easyTextField.setText(Integer.toString(levels[1].getMaxScore()));
        mediumTextField.setText(Integer.toString(levels[2].getMaxScore()));
        hardTextField.setText(Integer.toString(levels[3].getMaxScore()));
        unfairTextField.setText(Integer.toString(levels[4].getMaxScore()));
        
        for (int i = 0; i < fonts.length; i++) {
            setFont(fonts[i], fontLabels[i]);
        }
        
        valueFactorTextField.setText(Double.toString(valueFactor));
        candidateFactorTextField.setText(Double.toString(candidateFactor));
        hintFactorTextField.setText(Double.toString(hintFactor));
        boxFactorTextField.setText(Double.toString(boxFactor));
    }
    
    private void chooseFont(int index) {
        Font font = MyFontChooser.showDialog(null, ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.choose_font"), fonts[index]);
        if (font != null) {
            fonts[index] = font;
            setFont(fonts[index], fontLabels[index]);
        }
    }
    
    private void setFont(Font font, JLabel label) {
        int style = font.getStyle();
        String styleStr = "";
        switch (style) {
            case Font.PLAIN: styleStr = ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.regular"); break;
            case Font.BOLD: styleStr = ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.bold"); break;
            case Font.ITALIC: styleStr = ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.italic"); break;
            case Font.BOLD + Font.ITALIC: styleStr = ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.bold_italic"); break;
        }
        label.setText(font.getName() + " " + font.getSize() + " " + styleStr);
    }
    
    private void chooseColor(int index, boolean foreGround) {
        Color init = foreGround ? levels[index].getForegroundColor() : levels[index].getBackgroundColor();
        Color color = JColorChooser.showDialog(this, ResourceBundle.getBundle("main/resources/intl/ConfigLevelFontPanel").getString("ConfigLevelFontPanel.choose_color"), init);
        if (color != null) {
            if (foreGround) {
                levels[index].setForegroundColor(color);
                initButton(levelFGButtons[index], color);
            } else {
                levels[index].setBackgroundColor(color);
                initButton(levelBGButtons[index], color);
            }
        }
    }
    
    private void initButtons() {
        for (int i = 0; i < levelFGButtons.length; i++) {
            initButton(levelFGButtons[i], levels[i].getForegroundColor());
            initButton(levelBGButtons[i], levels[i].getBackgroundColor());
        }
    }
    
    private void initButton(JButton button, Color color) {
        Image img = new BufferedImage(10, 10, BufferedImage.TYPE_INT_RGB);
        Graphics g = img.getGraphics();
        g.setColor(color);
        g.fillRect(0, 0, 10, 10);
        button.setIcon(new ImageIcon(img));
        if (UIManager.getLookAndFeel().getName().equals("CDE/Motif")) {
            button.setBackground(color);
        }
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private JLabel boxFactorLabel;
    private JTextField boxFactorTextField;
    private JTextField candidateFactorTextField;
    private JButton candidatesButton;
    private JLabel candidatesFactorLabel;
    private JLabel candidatesFontLabel;
    private JLabel candidatesLabel;
    private JButton easyBGButton;
    private JButton easyFGButton;
    private JLabel easyLabel;
    private JTextField easyTextField;
    private JButton extremeBGButton;
    private JButton extremeFGButton;
    private JLabel extremeLabel;
    private JTextField extremeTextField;
    private JButton hardBGButton;
    private JButton hardFGButton;
    private JLabel hardLabel;
    private JTextField hardTextField;
    private JLabel hintFactorLabel;
    private JTextField hintFactorTextField;
    private JButton incompleteBGButton;
    private JButton incompleteFGButton;
    private JLabel incompleteLabel;
    private JPanel jPanel1;
    private JPanel jPanel3;
    private JTextField jTextField1;
    private JButton mediumBGButton;
    private JButton mediumFGButton;
    private JLabel mediumLabel;
    private JTextField mediumTextField;
    private JButton printLargeButton;
    private JLabel printLargeFontLabel;
    private JLabel printLargeLabel;
    private JButton printSmallButton;
    private JLabel printSmallFontLabel;
    private JLabel printSmallLabel;
    private JButton resetButton;
    private JButton unfairBGButton;
    private JButton unfairFGButton;
    private JLabel unfairLabel;
    private JTextField unfairTextField;
    private JLabel valueFactorLabel;
    private JTextField valueFactorTextField;
    private JButton valuesButton;
    private JLabel valuesFontLabel;
    private JLabel valuesLabel;
    // End of variables declaration//GEN-END:variables
    
    public static void main(String[] args) {
        
        Locale oldDefault = Locale.getDefault();
        Locale.setDefault(Locale.ENGLISH);
        List<String> availableLanguages = new ArrayList<String>();
        List<Locale> availableLocales = new ArrayList<Locale>();
        String[] isoLanguages = Locale.getISOLanguages();
        for (String isoLang : isoLanguages) {
            Locale locale = new Locale(isoLang);
            String lang = locale.getDisplayLanguage();
            System.out.println("Locale: " + locale.toString() + " (" + lang + ")");
            ResourceBundle bundle = ResourceBundle.getBundle("main/resources/intl/MainFrame", locale);
            System.out.println("  Returned: " + bundle.getLocale().toString() + " (" + bundle.getLocale().getDisplayLanguage() + " - " + bundle.getString("MainFrame.error") + ")");
            if (bundle.getLocale().getLanguage().equals(isoLang)) {
                availableLanguages.add(locale.getDisplayLanguage());
                availableLocales.add(locale);
                System.out.println("  ADDED");
            }
        }
        System.out.println();
        System.out.println("Sprachen:");
        for (int i = 0; i < availableLanguages.size(); i++) {
            String la = availableLanguages.get(i);
            Locale lo = availableLocales.get(i);
            System.out.println("  " + la + " (" + lo + ")");
        }
        Locale.setDefault(oldDefault);
    }
}
    
